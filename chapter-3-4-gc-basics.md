# GC - Basics

談到GC, 通常我們要思考三件事情:

* **When - 什麼時候要回收?**
* **What - 哪些記憶體要被回收?**
* **How - 怎麼回收?**

在前面的Chapter 3-1裡, 我們提到了JVM裡各個記憶體區塊及其特性, 其中, Program Counter Register/JVM Stack/Native Method Stack這三塊的生命週期基本上是跟執行緒一樣的, 且stack中要分配多少記憶體也是在class結構確定下來後就已經可以計算出來的\(大部分情況下啦\). 因此這幾個區塊的記憶體分配/回收都具有確定性, 因此不太需要過多去考慮回收的問題. 然而, Java Heap/Method Area就沒有這麼好了, 譬如說一個介面的多個實作, 其各別所需要的記憶體空間可能就差很多, 一個方法中的多個分支\(if...else這類\)所導致的記憶體需求也會差很多, 這些都只能在runtime的時候才能知道要建立哪些物件, 故這兩個區塊的記憶體分配/回收都是動態的, 而這就是GC所關注的部分. 在之後的文章裡, 探討的記憶體分配/回收基本上就會專注在這兩個區塊上.



